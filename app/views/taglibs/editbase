<!--  More information on Edit pages  EMAP311-->

<def tag="unstarted-page" polymorphic/>
<def tag="unstarted-page" for="Estd311">

  <page title="#{ht 'estd311.unstarted.title', :default=>['Unstarted']}" merge>

    <body: class="lifecycle-start-page unstarted-page" param/>

    <content: param>
      <header param="content-header">
        <div class="std_info">
        <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language" /><br />
        </div>
        <h2 param="heading">
          <ht key="estd311.unstarted.heading">
            Unstarted
          </ht>
        </h2>
      </header>

      <section param="content-body">
        <unstarted-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="enter-finding-page" polymorphic/>
<def tag="enter-finding-page" for="Estd311">
  <page title="#{ht 'estd311.enter_finding.title', :default=>['Enter Finding']}" merge>

    <body: class="lifecycle-transition-page enter-finding-page" param/>

    <content:>
      <header param="content-header">
        <div class="std_info">
        <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language" /><br />
        </div>
        <h2 param="heading">Enter Finding</h2>
      </header>

      <section param="content-body">
        <enter-finding-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="second-read-page" polymorphic/>
<def tag="second-read-page" for="Estd311">
  <page title="#{ht 'estd311.second_read.title', :default=>['Second Read']}" merge>

    <body: class="lifecycle-transition-page second-read-page" param/>

    <content:>
      <header param="content-header">
        <div class="std_info">
        <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language, rational, observation, recomendations, decision" /><br />
        </div>
        <h2 param="heading">Second Read</h2>
      </header>

      <section param="content-body">
        <second-read-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="return-to-primary-page" polymorphic/>
<def tag="return-to-primary-page" for="Estd311">
  <page title="#{ht 'estd311.return_to_primary.title', :default=>['Return To Primary']}" merge>

    <body: class="lifecycle-transition-page return-to-primary-page" param/>

    <content:>
      <header param="content-header">
        <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language" /><br />
        <h2 param="heading">First Read</h2>
      </header>

      <section param="content-body">
        <return-to-primary-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="return-to-secondary-page" polymorphic/>
<def tag="return-to-secondary-page" for="Estd311">
  <page title="#{ht 'estd311.return_to_secondary.title', :default=>['Return To Secondary']}" merge>

    <body: class="lifecycle-transition-page return-to-secondary-page" param/>

    <content:>
      <header param="content-header">
        <div class="std_info">
          <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language, rational, observation, recomendations, decision" /><br />
        </div>
        <h2 param="heading">Second Read</h2>
      </header>

      <section param="content-body">
        <return-to-secondary-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="mark-complete-page" polymorphic/>
<def tag="mark-complete-page" for="Estd311">
  <page title="#{ht 'estd311.mark_complete.title', :default=>['Mark Complete']}" merge>

    <body: class="lifecycle-transition-page mark-complete-page" param/>

    <content:>
      <header param="content-header">
        <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language, rational, observation, recomendations, sec_obs" /><br />
        <h2 param="heading">Mark Complete</h2>
      </header>

      <section param="content-body">
        <mark-complete-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="reopen-primary-page" polymorphic/>
<def tag="reopen-primary-page" for="Estd311">
  <page title="#{ht 'estd311.reopen.title', :default=>['Reopen']}" merge>

    <body: class="lifecycle-transition-page reopen-page" param/>

    <content:>
      <header param="content-header">
        <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language" /><br />
        <h2 param="heading">First Read</h2>
      </header>

      <section param="content-body">
        <reopen-primary-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<def tag="reopen-secondary-page" polymorphic/>
<def tag="reopen-secondary-page" for="Estd311">
  <page title="#{ht 'estd311.reopen.title', :default=>['Reopen']}" merge>

    <body: class="lifecycle-transition-page reopen-page" param/>

    <content:>
      <header param="content-header">
        <h3>EMAP Standard 3.1.1</h3>
          <p>A Program shall include a multi-year strategic plan developed in coordination with Emergency Management Program stakeholders that defines the mission, goals, objectives and milestones and includes an executive policy or vision statement.</p>
          <field-list fields="area.overview, area.language, rational, observation, recomendations, sec_obs" /><br />
        <h2 param="heading">Second Read</h2>
      </header>

      <section param="content-body">
        <reopen-secondary-form param="form"/>
      </section>
    </content:>

  </page>
</def>

<!-- Form Stuff  -->

<def tag="unstarted-form" polymorphic/>
<def tag="unstarted-form" for="Estd311">
  <form lifecycle="unstarted" merge param="default">
    <error-messages param/>
    <field-list fields="decision, rational, observation, recomendations, previewer" param/>
    <div param="actions">
      <submit label="#{ht 'estd311.actions.unstarted', :default=>['Unstarted']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>

<def tag="enter-finding-form" polymorphic/>
<def tag="enter-finding-form" for="Estd311">
  <form lifecycle="enter_finding" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="decision, rational, observation, recomendations, previewer" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.enter_finding', :default=>['Submit']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
<def tag="revisit-finding-form" polymorphic/>
<def tag="revisit-finding-form" for="Estd311">
  <form lifecycle="revisit_finding" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="decision, rational, observation, recomendations, previewer" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.revisit_finding', :default=>['Submit']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
<def tag="second-read-form" polymorphic/>
<def tag="second-read-form" for="Estd311">
  <form lifecycle="second_read" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="concur, sec_obs, sreviewer" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.second_read', :default=>['Submit']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
<def tag="return-to-secondary-form" polymorphic/>
<def tag="return-to-secondary-form" for="Estd311">
  <form lifecycle="return_to_secondary" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="concur, sec_obs, sreviewer" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.return_to_secondary', :default=>['Submit']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
<def tag="return-to-primary-form" polymorphic/>
<def tag="return-to-primary-form" for="Estd311">
  <form lifecycle="return_to_primary" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="rational, observation, recomendations, decision" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.return_to_primary', :default=>['Submit']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
<def tag="mark-complete-form" polymorphic/>
<def tag="mark-complete-form" for="Estd311">
  <form lifecycle="mark_complete" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="mark_complete" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.mark_complete', :default=>['Mark Complete']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
<def tag="reopen-primary-form" polymorphic/>
<def tag="reopen-primary-form" for="Estd311">
  <form lifecycle="reopen_primary" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="rational, observation, recomendations, decision" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.reopen_primary', :default=>['Submit']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
<def tag="reopen-secondary-form" polymorphic/>
<def tag="reopen-secondary-form" for="Estd311">
  <form lifecycle="reopen_secondary" merge param="default">
    <error-messages param/>
    <input type="hidden" name="key" value="&this.lifecycle.provided_key" if="&this.lifecycle.provided_key"/>
    <field-list fields="concur, sec_obs, sreviewer" param/>
    <div param="actions">
      <submit label="#{t 'activerecord.attributes.estd311.lifecycle.transitions.reopen_secondary', :default=>['Submit']}" param/><or-cancel param="cancel"/>
    </div>
    <after-submit uri="/programs/#{this.program_id}"/>
  </form>
</def>
